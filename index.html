<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Symfony2 Security &amp; Websockets</title>

    <link href="slideshow.css" rel="stylesheet" />
    <link href="reusable.css" rel="stylesheet" />
    <link href="theme.css" rel="stylesheet" />
    <link href="talk.css" rel="stylesheet" />
    <script src="prefixfree.min.js"></script>
</head>
<body data-duration="20">

<header id="intro" class="slide">
    <h1>
        Symfony2 Security &amp; Websockets
        <small>Working with tickets</small>
    </h1>
</header>

<section title="What's websocket?">
    <header class="slide">
        <h1>What's websocket?</h1>
    </header>

    <section class="slide">
        <h2>What's websocket?</h2>
        <ul>
            <li class="delayed">A client/server connexion</li>
            <li class="delayed">Work both ways</li>
            <li class="delayed">Stays open</li>
            <li class="delayed">Event based</li>
        </ul>
    </section>

    <section class="slide">
        <h2>How it's done</h2>
        <p>Starts with an HTTP request:</p>
        <pre><code>GET /socket.io/1/websocket/6mDqTWQ0hWpKY5V_GYWo HTTP/1.1
Host:websocket.symfony2.local:8000
Upgrade:websocket
Connection:Upgrade
Sec-WebSocket-Extensions:permessage-deflate; client_max_window_bits, x-webkit-deflate-frame
Sec-WebSocket-Key:ijIdeSs13H1t6Ez3rZtdaA==
Sec-WebSocket-Version:13
Origin:http://websocket.symfony2.local
Cookie:PHPSESSID=pnsdaav81i2v1lpopenbd9aq93</code></pre>
    </section>

    <section class="slide">
        <h2>How it's done</h2>
        <p>And the server's response:</p>
        <pre><code>HTTP/1.1 101 Switching Protocols
Connection: Upgrade
Sec-WebSocket-Accept: 6GRVpnnWRvk90r/nLFsxfrP3+D0=
Upgrade: websocket</code></pre>
    </section>

    <section class="slide">
        <h2>Event system</h2>
        <pre class="delayed"><code lang="javascript">socket.emit("user:say", { user: 1, message: "Hi." });</code></pre>
        <pre class="delayed"><code lang="javascript">socket.on("user:say", function (data) { console.log(data.message); });</code></pre>
    </section>
</section>

<section title="The security problem">
    <header class="slide">
        <h1>The security problem</h1>
    </header>

    <section class="slide">
        <h2>Node + Socket.io</h2>
        <ul>
            <li class="delayed">No authentication</li>
            <li class="delayed">No authorization</li>
        </ul>
    </section>
</section>

<footer class="slide" title="The End">
    <h2>Thank you!</h2>
    <p>Give it a try: <a href="https://github.com/Tom32i/sf2-security-websocket">https://github.com/Tom32i/sf2-security-websocket</a></p>
    <p>Credits:</p>
    <ul>
        <li><a href="http://instagram.com/yurbasikng">Handcrafted Wallpaper by Yuriy Khimanin</a></li>
        <li>With the help and advices of Yehya Latti & Benjamin Lévèque and the Elao team</li>
    </ul>
</footer>

<script src="slideshow.js"></script>
<script src="plugins/css-edit.js"></script>
<script src="plugins/css-snippets.js"></script>
<script src="plugins/css-controls.js"></script>
<script src="plugins/code-highlight.js"></script>
<script>
var slideshow = new SlideShow();

var snippets = document.querySelectorAll('.snippet');
for(var i=0; i<snippets.length; i++) {
    new CSSSnippet(snippets[i]);
}

var cssControls = document.querySelectorAll('.css-control');
for(var i=0; i<cssControls.length; i++) {
    new CSSControl(cssControls[i]);
}
</script>

</body>
</html>